<?xml version="1.0" encoding="utf-8"?>
<Tables Version="8.13.5498.35990">
  <Table Name="WorkTask" Description="任务" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Description="名称" />
      <Column Name="ParentID" DataType="Int32" Description="父任务。顶级任务的父任务为0" />
      <Column Name="Score" DataType="Int32" Description="积分。任务的权重，非常重要，特别在于子任务" />
      <Column Name="Priority" DataType="Int32" Description="优先级。数字越大优先级越高" />
      <Column Name="Remark" DataType="String" Length="500" Description="备注" />
      <Column Name="Status" DataType="Int32" Description="状态。准备、进行、暂停、取消、完成" />
      <Column Name="PlanTime" DataType="DateTime" Description="计划开始时间" />
      <Column Name="PlanCost" DataType="Int32" Description="计划工作日。需要多少个工作日" />
      <Column Name="StartTime" DataType="DateTime" Description="开始时间" />
      <Column Name="EndTime" DataType="DateTime" Description="结束时间" />
      <Column Name="Cost" DataType="Int32" Description="实际工作日" />
      <Column Name="Progress" DataType="Int32" Description="进度。0到100" />
      <Column Name="MasterID" DataType="Int32" Description="负责人" />
      <Column Name="Members" DataType="String" Description="成员编号。字符串存储，逗号分割" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
    </Columns>
    <Indexes>
      <Index Columns="Name" />
      <Index Columns="ParentID" />
      <Index Columns="MasterID" />
      <Index Columns="Status" />
    </Indexes>
  </Table>
  <Table Name="TaskHistory" Description="任务历史" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="WorkTaskID" DataType="Int32" Description="任务" />
      <Column Name="Kind" DataType="Int32" Description="种类。状态改变，优先级改变，积分改变，成员改变" />
      <Column Name="SrcValue" DataType="String" Description="原来的值" />
      <Column Name="NewValue" DataType="String" Description="新的值" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="Remark" DataType="String" Length="500" Description="备注" />
    </Columns>
    <Indexes>
      <Index Columns="WorkTaskID" />
      <Index Columns="Kind" />
      <Index Columns="WorkTaskID,Kind" />
    </Indexes>
  </Table>
  <Table Name="TaskComment" Description="任务评论" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="WorkTaskID" DataType="Int32" Description="任务" />
      <Column Name="Title" DataType="String" Description="标题" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="Content" DataType="String" Length="-1" Description="内容" />
    </Columns>
    <Indexes>
      <Index Columns="WorkTaskID" />
    </Indexes>
  </Table>
</Tables>